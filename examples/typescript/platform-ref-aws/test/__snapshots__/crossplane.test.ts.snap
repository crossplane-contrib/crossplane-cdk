// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`platform-ref-aws 1`] = `
Array [
  Object {
    "apiVersion": "meta.pkg.crossplane.io/v1alpha1",
    "kind": "Configuration",
    "metadata": Object {
      "annotations": Object {
        "company": "Upbound",
        "description": "This reference platform Configuration for Kubernetes and Data Services is a starting point to build, run, and operate your own internal cloud platform and offer a self-service console and API to your internal teams.",
        "descriptionShort": "The AWS reference platform for Kubernetes and Data Services.",
        "iconData": "CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iNjUiIGhlaWdodD0iNjUiPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHJlY3Qgd2lkdGg9IjY1IiBoZWlnaHQ9IjY1IiBmaWxsPSIjMjMyRjNFIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHJ4PSIxNiIvPjxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik0yMy4yNDYzNjU2IDI5Ljk2ODk5N2MwIC41NjQxODQ0LjA1NjQyNDYgMS4wMjE2MzEyLjE1NTE2NzYgMS4zNTcwOTIyLjExMjg0OTIuMzM1NDYxLjI1MzkxMDcuNzAxNDE4NC40NTEzOTY4IDEuMDk3ODcyMy4wNzA1MzA4LjEyMTk4NTguMDk4NzQzMS4yNDM5NzE2LjA5ODc0MzEuMzUwNzA5MiAwIC4xNTI0ODIzLS4wODQ2MzY5LjMwNDk2NDYtLjI2ODAxNjkuNDU3NDQ2OGwtLjg4ODY4NzUuNjQwNDI1NmMtLjEyNjk1NTMuMDkxNDg5My0uMjU0MDUxNy4xMzcyMzQtLjM2Njc1OTkuMTM3MjM0LS4xNDEwNjE1IDAtLjI4MjEyMy0uMDc2MjQxMS0uNDIzMTg0NS0uMjEzNDc1Mi0uMTk3NDg2MS0uMjI4NzIzNC0uMzY2NzU5OS0uNDcyNjk1LS41MDc4MjE0LS43MTY2NjY2LS4xNDEwNjE1LS4yNTkyMTk5LS4yODIxMjMtLjU0ODkzNjItLjQzNzI5MDYtLjg5OTY0NTQtMS4xMDA0MjA3OCAxLjQwMjgzNjgtMi40ODI2ODI0MiAyLjEwNDI1NTMtNC4xNDcyMDgxMyAyLjEwNDI1NTMtMS4xODQ5MTY2MSAwLTIuMTMwMDI4NjYtLjM2NTk1NzUtMi44MjEyMzAwMi0xLjA5Nzg3MjQtLjY5MTIwMTM1LS43MzE5MTQ4LTEuMDQzODU1MS0xLjcwNzgwMTQtMS4wNDM4NTUxLTIuOTI3NjU5NSAwLTEuMjk2MDk5MzIuNDIzMDQzNDQtMi4zNDgyMjY5OCAxLjI4MzY1OTY1LTMuMTQxMTM0NzguODYwNDc1MTYtLjc5MjkwNzggMi4wMDMwNzMzMS0xLjE4OTM2MTcgMy40NTYwMDY3Ny0xLjE4OTM2MTcuNDc5NDY4MDQgMCAuOTczMzI0MzYuMDQ1NzQ0NjggMS40OTUyNTE5MS4xMjE5ODU4MS41MjE5Mjc1NS4wNzYyNDExNCAxLjA1Nzk2MTI2LjE5ODIyNjk1IDEuNjIyMjA3MjYuMzM1NDYxdi0xLjExMzEyMDU3YzAtMS4xNTg4NjUyNS0uMjI1Njk4NC0xLjk2NzAyMTI4LS42NjI5ODkwNS0yLjQzOTcxNjMxLS40NTEzOTY4MS0uNDcyNjk1MDQtMS4yMTMxMjg5MS0uNzAxNDE4NDQtMi4yOTkzMDI0Ny0uNzAxNDE4NDQtLjQ5MzcxNTI1IDAtMS4wMDE1MzY2NS4wNjA5OTI5MS0xLjUyMzQ2NDIuMTk4MjI2OTUtLjUyMTkyNzU2LjEzNzIzNDA0LTEuMDI5NzQ4OTYuMzA0OTY0NTQtMS41MjM0NjQyMS41MTg0Mzk3MS0uMjI1Njk4NC4xMDY3Mzc1OS0uMzk0OTcyMi4xNjc3MzA1LS40OTM3MTUyNi4xOTgyMjY5Ni0uMDk4NzQzMDUuMDMwNDk2NDUtLjE2OTI3MzguMDQ1NzQ0NjgtLjIyNTgzOTQ2LjA0NTc0NDY4LS4xOTczNDUwNCAwLS4yOTYwODgwOS0uMTUyNDgyMjctLjI5NjA4ODA5LS40NzI2OTUwNHYtLjc0NzE2MzEyYzAtLjI0Mzk3MTYzLjAyODIxMjMtLjQyNjk1MDM1LjA5ODc0MzA1LS41MzM2ODc5NHMuMTk3MzQ1MDQtLjIxMzQ3NTE4LjM5NDk3MjItLjMyMDIxMjc3Yy40OTM1NzQyLS4yNzQ0NjgwOCAxLjA4NjE3MzU2LS41MDMxOTE0OSAxLjc3NzM3NDkxLS42ODYxNzAyMS42OTEyMDEzNi0uMTk4MjI2OTUgMS40MjQ3MjExNi0uMjg5NzE2MzEgMi4yMDA1NTk0Mi0uMjg5NzE2MzEgMS42Nzg2MzE4NSAwIDIuOTA1ODY2OTIuNDExNzAyMTIgMy42OTU4MTEzMiAxLjIzNTEwNjM4Ljc3NTgzODIuODIzNDA0MjUgMS4xNzA4MTA1IDIuMDczNzU4ODYgMS4xNzA4MTA1IDMuNzUxMDYzODNWMjkuOTY4OTk3aC4wMjgyMTIzem0tNS43MjcwOTY5OCAyLjMxNzczMDVjLjQ2NTUwMjk1IDAgLjk0NDk3MDk5LS4wOTE0ODk0IDEuNDUyOTMzNDYtLjI3NDQ2ODEuNTA3ODIxNC0uMTgyOTc4OC45NTkyMTgyLS41MTg0Mzk3IDEuMzQwMDg0MjYtLjk3NTg4NjYuMjI1Njk4NC0uMjg5NzE2My4zOTQ4MzExNC0uNjA5OTI5LjQ3OTYwOTEtLjk3NTg4NjUuMDg0NjM2OS0uMzY1OTU3NC4xNDEwNjE1LS44MDgxNTYwMS4xNDEwNjE1LTEuMzI2NTk1NzJ2LS42NDA0MjU1M2MtLjQwOTA3ODM1LS4xMDY3Mzc1OS0uODQ2MzY5MDEtLjE5ODIyNjk1LTEuMjk3NzY1ODEtLjI1OTIxOTg2LS40NTEzOTY4LS4wNjA5OTI5MS0uODg4Njg3NDUtLjA5MTQ4OTM2LTEuMzI1OTc4MS0uMDkxNDg5MzYtLjk0NTExMjA2IDAtMS42MzYzMTM0MS4xOTgyMjY5NS0yLjEwMTgxNjM3LjYwOTkyOTA3LS40NjU1MDI5NS40MTE3MDIxMy0uNjkxMjAxMzUuOTkxMTM0NzYtLjY5MTIwMTM1IDEuNzUzNTQ2MSAwIC43MTY2NjY3LjE2OTI3MzggMS4yNTAzNTQ2LjUyMTkyNzU1IDEuNjE2MzEyMS4zMzg1NDc2MS4zODEyMDU2LjgzMjI2Mjg2LjU2NDE4NDQgMS40ODExNDU3Ni41NjQxODQ0ek0yOC44NDY1MDcxIDMzLjkzMzUzNmMtLjI1MzkxMDcgMC0uNDIzMTg0NS0uMDQ1NzQ0Ny0uNTM2MDMzNy0uMTUyNDgyMy0uMTEyODQ5Mi0uMDkxNDg5NC0uMjExNTkyMi0uMzA0OTY0NS0uMjk2MjI5MS0uNTk0NjgwOUwyNC42OTkyOTkgMjEuMzk5NDkzNDFjLS4wODQ3NzgtLjMwNDk2NDUzLS4xMjY5NTUzLS41MDMxOTE0OC0uMTI2OTU1My0uNjA5OTI5MDcgMC0uMjQzOTcxNjMuMTEyNzA4MS0uMzgxMjA1NjguMzM4NTQ3Ni0uMzgxMjA1NjhoMS4zODI0MDI3Yy4yNjc4NzU4IDAgLjQ1MTM5NjguMDQ1NzQ0NjguNTUwMTM5OC4xNTI0ODIyNy4xMTI4NDkyLjA5MTQ4OTM2LjE5NzQ4NjEuMzA0OTY0NTQuMjgyMTIzLjU5NDY4MDg1TDI5LjQ5NTM5IDMxLjI0OTg0OGwyLjIwMDQxODQtMTAuMDk0MzI2MjJjLjA3MDY3MTgtLjMwNDk2NDU0LjE1NTE2NzYtLjUwMzE5MTQ5LjI2ODE1NzktLjU5NDY4MDg1LjExMjg0OTItLjA5MTQ4OTM2LjMxMDE5NDItLjE1MjQ4MjI3LjU2NDI0Ni0uMTUyNDgyMjdoMS4xMjg0OTJjLjI2Nzg3NTggMCAuNDUxMzk2OC4wNDU3NDQ2OC41NjQyNDYuMTUyNDgyMjcuMTEyODQ5Mi4wOTE0ODkzNi4yMTE1OTIzLjMwNDk2NDU0LjI2ODAxNjkuNTk0NjgwODVsMi4yMjg2MzA2IDEwLjIxNjMxMjAyIDIuNDQwNTA1LTEwLjIxNjMxMjAyYy4wODQ2MzY5LS4zMDQ5NjQ1NC4xODMzOC0uNTAzMTkxNDkuMjgyMTIzLS41OTQ2ODA4NS4xMTI4NDkyLS4wOTE0ODkzNi4yOTYyMjkyLS4xNTI0ODIyNy41NTAxMzk5LS4xNTI0ODIyN2gxLjMxMTg3MTljLjIyNTY5ODQgMCAuMzUyNjUzOC4xMjE5ODU4Mi4zNTI2NTM4LjM4MTIwNTY4IDAgLjA3NjI0MTEzLS4wMTQxMDYyLjE1MjQ4MjI3LS4wMjgyMTIzLjI0Mzk3MTYzLS4wMTQyNDcyLjA5MTQ4OTM2LS4wNDIzMTg1LjIxMzQ3NTE3LS4wOTg3NDMxLjM4MTIwNTY3TDM4LjEyODM1MzkgMzMuMjAxNjIxMWMtLjA4NDc3OC4zMDQ5NjQ1LS4xODM1MjEuNTAzMTkxNS0uMjk2MzcwMi41OTQ2ODA4LS4xMTI3MDgyLjA5MTQ4OTQtLjI5NjA4ODEuMTUyNDgyMy0uNTM1ODkyNy4xNTI0ODIzaC0xLjIxMzI2OTljLS4yNjc4NzU4IDAtLjQ1MTI1NTgtLjA0NTc0NDctLjU2NDI0Ni0uMTUyNDgyMy0uMTEyODQ5Mi0uMTA2NzM3Ni0uMjExNTkyMy0uMzA0OTY0NS0uMjY3ODc1OC0uNjA5OTI5MWwtMi4xODY0NTMzLTkuODM1MTA2MzQtMi4xNzIzNDcxIDkuODE5ODU4MTRjLS4wNzA2NzE4LjMwNDk2NDYtLjE1NTE2NzcuNTAzMTkxNS0uMjY4MDE2OS42MDk5MjkxLS4xMTI4NDkyLjEwNjczNzYtLjMxMDMzNTMuMTUyNDgyMy0uNTY0MjQ2LjE1MjQ4MjNoLTEuMjEzMTI4OXptMTguMTI2NDAyOS40MTE3MDIxYy0uNzMzNTE5OCAwLTEuNDY3MDM5Ni0uMDkxNDg5NC0yLjE3MjM0NzEtLjI3NDQ2ODFzLTEuMjU1NDQ3NC0uMzgxMjA1Ny0xLjYyMjIwNzMtLjYwOTkyOTFjLS4yMjU2OTg0LS4xMzcyMzQtLjM4MTAwNzEtLjI4OTcxNjMtLjQzNzI5MDYtLjQyNjk1MDMtLjA1NjQyNDYtLjEzNzIzNDEtLjA4NDYzNjktLjI4OTcxNjMtLjA4NDYzNjktLjQyNjk1MDR2LS43Nzc2NTk2YzAtLjMyMDIxMjcuMTEyODQ5Mi0uNDcyNjk1LjMyNDQ0MTQtLjQ3MjY5NS4wODQ2MzY5IDAgLjE2OTEzMjcuMDE1MjQ4Mi4yNTM3Njk2LjA0NTc0NDcuMDg0Nzc4LjAzMDQ5NjQuMjExNTkyMy4wOTE0ODk0LjM1Mjc5NDkuMTUyNDgyMy40Nzk0NjguMjI4NzIzNCAxLjAwMTUzNjYuNDExNzAyMSAxLjU1MTUzNTQuNTMzNjg3OS41NjQzODcxLjEyMTk4NTggMS4xMTQzODU5LjE4Mjk3ODcgMS42Nzg3NzI5LjE4Mjk3ODcuODg4Njg3NSAwIDEuNTc5ODg4OC0uMTY3NzMwNSAyLjA1OTM1NjktLjUwMzE5MTUuNDc5NzUwMS0uMzM1NDYxLjczMzY2MDgtLjgyMzQwNDIuNzMzNjYwOC0xLjQ0ODU4MTUgMC0uNDI2OTUwNC0uMTI2OTU1My0uNzc3NjU5Ni0uMzgxMDA3MS0xLjA2NzM3NTkxLS4yNTM3Njk2LS4yODk3MTYzMS0uNzMzMzc4Ny0uNTQ4OTM2MTctMS40MjQ3MjExLS43OTI5MDc4bC0yLjA0NTI1MDctLjY4NjE3MDIxYy0xLjAyOTc0OS0uMzUwNzA5MjItMS43OTE0ODExLS44NjkxNDg5NC0yLjI1Njk4NC0xLjU1NTMxOTE1LS40NjU1MDMtLjY3MDkyMTk5LS43MDU0NDg2LTEuNDE4MDg1MTEtLjcwNTQ0ODYtMi4yMTA5OTI5MSAwLS42NDA0MjU1My4xMjcwOTY0LTEuMjA0NjA5OTMuMzgxMDA3MS0xLjY5MjU1MzE5LjI1Mzc2OTYtLjQ4Nzk0MzI2LjU5MjQ1ODMtLjkxNDg5MzYyIDEuMDE1NjQyOC0xLjI1MDM1NDYxLjQyMzE4NDUtLjM1MDcwOTIyLjkwMjc5MzYtLjYwOTkyOTA4IDEuNDY3MDM5Ni0uNzkyOTA3OC41NjQyNDYtLjE4Mjk3ODcyIDEuMTU2NzA0My0uMjU5MjE5ODYgMS43NzczNzQ5LS4yNTkyMTk4Ni4zMTAxOTQzIDAgLjYzNDc3NjguMDE1MjQ4MjMuOTQ0OTcxLjA2MDk5MjkxLjMyNDU4MjUuMDQ1NzQ0NjguNjIwNjcwNi4xMDY3Mzc1OS45MTY4OTk4LjE2NzczMDUuMjgyMTIzLjA3NjI0MTEzLjU1MDEzOTguMTUyNDgyMjcuODA0MTkxNi4yNDM5NzE2My4yNTM3Njk2LjA5MTQ4OTM2LjQ1MTM5NjguMTgyOTc4NzIuNTkyNDU4My4yNzQ0NjgwOC4xOTc0ODYxLjEyMTk4NTgyLjMzODU0NzYuMjQzOTcxNjMuNDIzMTg0NS4zODEyMDU2OC4wODQ2MzY5LjEyMTk4NTgxLjEyNjk1NTMuMjg5NzE2MzEuMTI2OTU1My41MDMxOTE0OXYuNzE2NjY2NjZjMCAuMzIwMjEyNzctLjExMjg0OTIuNDg3OTQzMjYtLjMyNDQ0MTQuNDg3OTQzMjYtLjExMjg0OTIgMC0uMjk2MjI5Mi0uMDYwOTkyOS0uNTM2MDMzNy0uMTgyOTc4NzItLjgwNDA1MDYtLjM5NjQ1MzktMS43MDY4NDQyLS41OTQ2ODA4NS0yLjcwODM4MDgtLjU5NDY4MDg1LS44MDQwNTA2IDAtMS40Mzg4MjczLjEzNzIzNDA0LTEuODc2MTE4LjQyNjk1MDM1LS40MzcyOTA2LjI4OTcxNjMyLS42NjI5ODkuNzMxOTE0OS0uNjYyOTg5IDEuMzU3MDkyMiAwIC40MjY5NTAzNi4xNDEwNjE1Ljc5MjkwNzguNDIzMTg0NSAxLjA4MjYyNDEyLjI4MjEyMy4yODk3MTYzMS44MDQwNTA1LjU3OTQzMjYyIDEuNTUxNjc2NS44Mzg2NTI0OGwyLjAwMzA3MzMuNjg2MTcwMjFjMS4wMTU2NDI4LjM1MDcwOTIyIDEuNzQ5MTYyNi44Mzg2NTI0OCAyLjE4NjQ1MzIgMS40NjM4Mjk3OS40MzcyOTA3LjYyNTE3NzMuNjQ4ODgzIDEuMzQxODQzOTcuNjQ4ODgzIDIuMTM0NzUxNzUgMCAuNjU1NjczOC0uMTI2OTU1NCAxLjI1MDM1NDYtLjM2Njc1OTkgMS43Njg3OTQzLS4yNTM5MTA4LjUxODQzOTgtLjU5MjQ1ODQuOTc1ODg2Ni0xLjAyOTc0OSAxLjM0MTg0NC0uNDM3MjkwNy4zODEyMDU3LS45NTkyMTgyLjY1NTY3MzgtMS41NjU3ODI3Ljg1MzkwMDctLjYzNDc3NjcuMjEzNDc1Mi0xLjI5Nzc2NTguMzIwMjEyOC0yLjAxNzE3OTQuMzIwMjEyOHoiLz48cGF0aCBmaWxsPSIjRkY5OTAwIiBkPSJNNDkuODc1NTA3IDQxLjAwNTkzNzJjLTQuNzA1MTM2NyAzLjY3NDQwNTEtMTEuNTQxMTcxMiA1LjYyNTAxNTItMTcuNDE4ODczOCA1LjYyNTAxNTItOC4yMzc1NjQ2IDAtMTUuNjU5OTUzNjEtMy4yMjA3NzQ4LTIxLjI2NjA3Mzk4LTguNTczNjExOS0uNDQzNDg0MTYtLjQyMzM4ODItLjA0MjkwMzk4LS45OTc5ODY1LjQ4NjI0NTE0LS42NjUzMjQ0IDYuMDYzNzYyODUgMy43MTk3NjgyIDEzLjU0MzIxNDE0IDUuOTcyNzk4NCAyMS4yODAzNzUyNCA1Ljk3Mjc5ODQgNS4yMTk5ODQ2IDAgMTAuOTU0ODE2OS0xLjE0OTE5NjYgMTYuMjMyMDA2Ny0zLjUwODA3NC43ODY1NzMtLjM3ODAyNTIgMS40NTg3MzU0LjU0NDM1NjMuNjg2MzIwNyAxLjE0OTE5Njd6bTEuOTU5NDI0OS0yLjM1ODg3NzNjLS42MDA3OTg4LS44MTY1MzQ1LTMuOTc1NzY5LS4zOTMxNDYzLTUuNTA2MDExMS0uMTk2NTczMi0uNDU3Nzg1NS4wNjA0ODQxLS41MjkyOTIxLS4zNjI5MDQyLS4xMTQ0MTA2LS42ODA0NDUzIDIuNjg4NjQ5Ni0xLjk5NTk3MzIgNy4xMDc2MTY3LTEuNDIxMzc0OCA3LjYyMjYwNzYtLjc1NjA1MDUuNTE0ODQ3Ny42ODA0NDU0LS4xNDMwMTMzIDUuMzUyODM3MS0yLjY2MDE5IDcuNTkwNzQ2My0uMzg1OTkyOC4zNDc3ODMyLS43NTc4MjczLjE2NjMzMTEtLjU4NjM1NDQtLjI4NzI5OTEuNTcyMDUzMS0xLjQ5Njk3OTkgMS44NDUwMTQzLTQuODY4OTY0OCAxLjI0NDM1ODUtNS42NzAzNzgyeiIvPjwvZz48L3N2Zz4=",
        "keywords": "aws, cloud-native, kubernetes, example, platform, reference",
        "license": "Apache-2.0",
        "maintainer": "Jared Watts <jared@upbound.io>",
        "readme": "This reference platform \`Configuration\` for Kubernetes and Data Services
is a starting point to build, run, and operate your own internal cloud
platform and offer a self-service console and API to your internal teams.
It provides platform APIs to provision fully configured EKS clusters,
with secure networking, and stateful cloud services (RDS) designed to
securely connect to the nodes in each EKS cluster -- all composed using
cloud service primitives from the [Crossplane AWS
Provider](https://doc.crds.dev/github.com/crossplane/provider-aws). App
deployments can securely connect to the infrastructure they need using
secrets distributed directly to the app namespace.

[Quickstart
Guide](https://github.com/upbound/platform-ref-aws/#quick-start)

[APIs in this
Configuration](https://github.com/upbound/platform-ref-aws/#apis-in-this-configuration)

To learn more checkout the [GitHub
repo](https://github.com/upbound/platform-ref-aws/) that you can copy and
customize to meet the exact needs of your organization!
",
        "source": "github.com/upbound/platform-ref-aws",
      },
      "name": "platform-ref-aws",
    },
    "spec": Object {
      "crossplane": Object {
        "version": ">=v1.0.0-0",
      },
      "dependsOn": Array [
        Object {
          "provider": "registry.upbound.io/crossplane/provider-aws",
          "version": ">=v0.14.0-0",
        },
        Object {
          "provider": "registry.upbound.io/crossplane/provider-helm",
          "version": ">=v0.3.6-0",
        },
      ],
    },
  },
]
`;

exports[`platform-ref-aws 2`] = `
Array [
  Object {
    "apiVersion": "apiextensions.crossplane.io/v1beta1",
    "kind": "CompositeResourceDefinition",
    "metadata": Object {
      "annotations": Object {
        "upbound.io/ui-schema": "---
configSections:
- title: Database Size
  description: Enter information to size your database
  items:
  - name: storageGB
    controlType: singleInput
    type: integer
    path: .spec.parameters.storageGB
    title: Storage (GB)
    description: GB of storage for your database
    default: 5
    validation:
    - minimum: 1
    - maximum: 500
    - required: true
  - name: networkRef
    controlType: singleInput
    type: string
    path: .spec.parameters.networkRef.id
    title: Network Ref
    description: ID of the Network object this ref points to.
    default: platform-ref-aws-network
    validation:
    - required: true
    - customError: >-
        Network ref is required and should match the network ref of the app
        cluster.
  - name: writeSecretRef
    controlType: singleInput
    type: string
    path: .spec.writeConnectionSecretToRef.name
    title: Connection Secret Ref
    description: name of the secret to write to this namespace
    default: db-conn
    validation:
    - required: true
",
      },
      "name": "compositepostgresqlinstances.aws.platformref.crossplane.io",
    },
    "spec": Object {
      "claimNames": Object {
        "kind": "PostgreSQLInstance",
        "plural": "postgresqlinstances",
      },
      "connectionSecretKeys": Array [
        "username",
        "password",
        "endpoint",
        "port",
      ],
      "group": "aws.platformref.crossplane.io",
      "names": Object {
        "kind": "CompositePostgreSQLInstance",
        "plural": "compositepostgresqlinstances",
      },
      "versions": Array [
        Object {
          "name": "v1alpha1",
          "referenceable": true,
          "schema": Object {
            "openAPIV3Schema": Object {
              "properties": Object {
                "spec": Object {
                  "properties": Object {
                    "parameters": Object {
                      "properties": Object {
                        "networkRef": Object {
                          "description": "A reference to the Network object that this postgres should be connected to.",
                          "properties": Object {
                            "id": Object {
                              "description": "ID of the Network object this ref points to.",
                              "type": "string",
                            },
                          },
                          "required": Array [
                            "id",
                          ],
                          "type": "object",
                        },
                        "storageGB": Object {
                          "description": "GB of storage for your database",
                          "type": "integer",
                        },
                      },
                      "required": Array [
                        "storageGB",
                        "networkRef",
                      ],
                      "type": "object",
                    },
                  },
                  "required": Array [
                    "parameters",
                  ],
                  "type": "object",
                },
              },
              "type": "object",
            },
          },
          "served": true,
        },
      ],
    },
  },
  Object {
    "apiVersion": "apiextensions.crossplane.io/v1beta1",
    "kind": "Composition",
    "metadata": Object {
      "labels": Object {
        "provider": "aws",
      },
      "name": "compositepostgresqlinstances.aws.platformref.crossplane.io",
    },
    "spec": Object {
      "compositeTypeRef": Object {
        "apiVersion": "aws.platformref.crossplane.io/v1alpha1",
        "kind": "CompositePostgreSQLInstance",
      },
      "resources": Array [
        Object {
          "base": Object {
            "apiVersion": "database.aws.crossplane.io/v1beta1",
            "kind": "DBSubnetGroup",
            "spec": Object {
              "deletionPolicy": "Delete",
              "forProvider": Object {
                "description": "An excellent formation of subnetworks.",
                "region": "us-west-2",
              },
            },
          },
          "patches": Array [
            Object {
              "fromFieldPath": "spec.parameters.networkRef.id",
              "toFieldPath": "spec.forProvider.subnetIdSelector.matchLabels[networks.aws.platformref.crossplane.io/network-id]",
            },
          ],
        },
        Object {
          "base": Object {
            "apiVersion": "database.aws.crossplane.io/v1beta1",
            "kind": "RDSInstance",
            "spec": Object {
              "deletionPolicy": "Delete",
              "forProvider": Object {
                "dbInstanceClass": "db.t2.small",
                "dbSubnetGroupNameSelector": Object {
                  "matchControllerRef": true,
                },
                "engine": "postgres",
                "engineVersion": "9.6",
                "masterUsername": "masteruser",
                "publiclyAccessible": false,
                "region": "us-west-2",
                "skipFinalSnapshotBeforeDeletion": true,
              },
              "writeConnectionSecretToRef": Object {
                "name": "default-db-conn",
                "namespace": "crossplane-system",
              },
            },
          },
          "connectionDetails": Array [
            Object {
              "fromConnectionSecretKey": "username",
            },
            Object {
              "fromConnectionSecretKey": "password",
            },
            Object {
              "fromConnectionSecretKey": "endpoint",
            },
            Object {
              "fromConnectionSecretKey": "port",
            },
          ],
          "patches": Array [
            Object {
              "fromFieldPath": "metadata.uid",
              "toFieldPath": "spec.writeConnectionSecretToRef.name",
              "transforms": Array [
                Object {
                  "string": Object {
                    "fmt": "%s-postgresql",
                  },
                  "type": "string",
                },
              ],
            },
            Object {
              "fromFieldPath": "spec.parameters.storageGB",
              "toFieldPath": "spec.forProvider.allocatedStorage",
            },
            Object {
              "fromFieldPath": "spec.parameters.networkRef.id",
              "toFieldPath": "spec.forProvider.vpcSecurityGroupIDSelector.matchLabels[networks.aws.platformref.crossplane.io/network-id]",
            },
          ],
        },
      ],
      "writeConnectionSecretsToNamespace": "crossplane-system",
    },
  },
]
`;

exports[`platform-ref-aws 3`] = `
Array [
  Object {
    "apiVersion": "apiextensions.crossplane.io/v1beta1",
    "kind": "CompositeResourceDefinition",
    "metadata": Object {
      "annotations": Object {
        "upbound.io/ui-schema": "---
configSections:
- title: Network Info
  description: Information about this network fabric
  items:
  - name: id
    controlType: singleInput
    type: string
    path: \\".spec.id\\"
    title: Network ID
    description: Network ID that other objects will use to refer (and connect) to this network fabric
    default: platform-ref-aws-network
    validation:
    - required: true
      customError: Network ID is required.
- title: Cluster Info
  description: The cluster used with this network fabric
  items:
  - name: clusterRef
    controlType: singleInput
    type: string
    path: \\".spec.clusterRef.id\\"
    title: Cluster Ref
    description: ID of the Cluster object that will use this network fabric
    default: platform-ref-aws-cluster
    validation:
    - required: true
      customError: Cluster ref is required.",
      },
      "name": "compositenetworks.aws.platformref.crossplane.io",
    },
    "spec": Object {
      "claimNames": Object {
        "kind": "Network",
        "plural": "networks",
      },
      "group": "aws.platformref.crossplane.io",
      "names": Object {
        "kind": "CompositeNetwork",
        "plural": "compositenetworks",
      },
      "versions": Array [
        Object {
          "name": "v1alpha1",
          "referenceable": true,
          "schema": Object {
            "openAPIV3Schema": Object {
              "properties": Object {
                "spec": Object {
                  "properties": Object {
                    "clusterRef": Object {
                      "description": "A reference to the Cluster object that this network will be used for.",
                      "properties": Object {
                        "id": Object {
                          "description": "ID of the Cluster object this ref points to.",
                          "type": "string",
                        },
                      },
                      "required": Array [
                        "id",
                      ],
                      "type": "object",
                    },
                    "id": Object {
                      "description": "ID of this Network that other objects will use to refer to it.",
                      "type": "string",
                    },
                  },
                  "required": Array [
                    "id",
                    "clusterRef",
                  ],
                  "type": "object",
                },
              },
              "type": "object",
            },
          },
          "served": true,
        },
      ],
    },
  },
  Object {
    "apiVersion": "apiextensions.crossplane.io/v1beta1",
    "kind": "Composition",
    "metadata": Object {
      "labels": Object {
        "provider": "aws",
      },
      "name": "compositenetworks.aws.platformref.crossplane.io",
    },
    "spec": Object {
      "compositeTypeRef": Object {
        "apiVersion": "aws.platformref.crossplane.io/v1alpha1",
        "kind": "CompositeNetwork",
      },
      "resources": Array [
        Object {
          "base": Object {
            "apiVersion": "ec2.aws.crossplane.io/v1beta1",
            "kind": "VPC",
            "spec": Object {
              "forProvider": Object {
                "cidrBlock": "192.168.0.0/16",
                "enableDnsHostNames": true,
                "enableDnsSupport": true,
                "region": "us-west-2",
              },
            },
          },
          "patches": Array [
            Object {
              "fromFieldPath": "spec.id",
              "toFieldPath": "metadata.labels[networks.aws.platformref.crossplane.io/network-id]",
            },
          ],
        },
        Object {
          "base": Object {
            "apiVersion": "ec2.aws.crossplane.io/v1beta1",
            "kind": "InternetGateway",
            "spec": Object {
              "forProvider": Object {
                "region": "us-west-2",
                "vpcIdSelector": Object {
                  "matchControllerRef": true,
                },
              },
            },
          },
          "patches": Array [
            Object {
              "fromFieldPath": "spec.id",
              "toFieldPath": "metadata.labels[networks.aws.platformref.crossplane.io/network-id]",
            },
          ],
        },
        Object {
          "base": Object {
            "apiVersion": "ec2.aws.crossplane.io/v1beta1",
            "kind": "Subnet",
            "metadata": Object {
              "labels": Object {
                "access": "public",
                "zone": "us-west-2a",
              },
            },
            "spec": Object {
              "forProvider": Object {
                "availabilityZone": "us-west-2a",
                "cidrBlock": "192.168.0.0/18",
                "mapPublicIPOnLaunch": true,
                "region": "us-west-2",
                "tags": Array [
                  Object {
                    "key": "kubernetes.io/role/elb",
                    "value": "1",
                  },
                ],
                "vpcIdSelector": Object {
                  "matchControllerRef": true,
                },
              },
            },
          },
          "patches": Array [
            Object {
              "fromFieldPath": "spec.id",
              "toFieldPath": "metadata.labels[networks.aws.platformref.crossplane.io/network-id]",
            },
          ],
        },
        Object {
          "base": Object {
            "apiVersion": "ec2.aws.crossplane.io/v1beta1",
            "kind": "Subnet",
            "metadata": Object {
              "labels": Object {
                "access": "public",
                "zone": "us-west-2b",
              },
            },
            "spec": Object {
              "forProvider": Object {
                "availabilityZone": "us-west-2b",
                "cidrBlock": "192.168.64.0/18",
                "mapPublicIPOnLaunch": true,
                "region": "us-west-2",
                "tags": Array [
                  Object {
                    "key": "kubernetes.io/role/elb",
                    "value": "1",
                  },
                ],
                "vpcIdSelector": Object {
                  "matchControllerRef": true,
                },
              },
            },
          },
          "patches": Array [
            Object {
              "fromFieldPath": "spec.id",
              "toFieldPath": "metadata.labels[networks.aws.platformref.crossplane.io/network-id]",
            },
          ],
        },
        Object {
          "base": Object {
            "apiVersion": "ec2.aws.crossplane.io/v1beta1",
            "kind": "Subnet",
            "metadata": Object {
              "labels": Object {
                "access": "private",
                "zone": "us-west-2a",
              },
            },
            "spec": Object {
              "forProvider": Object {
                "availabilityZone": "us-west-2a",
                "cidrBlock": "192.168.128.0/18",
                "region": "us-west-2",
                "tags": Array [
                  Object {
                    "key": "",
                    "value": "shared",
                  },
                  Object {
                    "key": "kubernetes.io/role/internal-elb",
                    "value": "1",
                  },
                ],
                "vpcIdSelector": Object {
                  "matchControllerRef": true,
                },
              },
            },
          },
          "patches": Array [
            Object {
              "fromFieldPath": "spec.id",
              "toFieldPath": "metadata.labels[networks.aws.platformref.crossplane.io/network-id]",
            },
            Object {
              "fromFieldPath": "spec.clusterRef.id",
              "toFieldPath": "spec.forProvider.tags[0].key",
              "transforms": Array [
                Object {
                  "string": Object {
                    "fmt": "kubernetes.io/cluster/%s",
                  },
                  "type": "string",
                },
              ],
            },
          ],
        },
        Object {
          "base": Object {
            "apiVersion": "ec2.aws.crossplane.io/v1beta1",
            "kind": "Subnet",
            "metadata": Object {
              "labels": Object {
                "access": "private",
                "zone": "us-west-2b",
              },
            },
            "spec": Object {
              "forProvider": Object {
                "availabilityZone": "us-west-2b",
                "cidrBlock": "192.168.192.0/18",
                "region": "us-west-2",
                "tags": Array [
                  Object {
                    "key": "",
                    "value": "shared",
                  },
                  Object {
                    "key": "kubernetes.io/role/internal-elb",
                    "value": "1",
                  },
                ],
                "vpcIdSelector": Object {
                  "matchControllerRef": true,
                },
              },
            },
          },
          "patches": Array [
            Object {
              "fromFieldPath": "spec.id",
              "toFieldPath": "metadata.labels[networks.aws.platformref.crossplane.io/network-id]",
            },
            Object {
              "fromFieldPath": "spec.clusterRef.id",
              "toFieldPath": "spec.forProvider.tags[0].key",
              "transforms": Array [
                Object {
                  "string": Object {
                    "fmt": "kubernetes.io/cluster/%s",
                  },
                  "type": "string",
                },
              ],
            },
          ],
        },
        Object {
          "base": Object {
            "apiVersion": "ec2.aws.crossplane.io/v1alpha4",
            "kind": "RouteTable",
            "spec": Object {
              "forProvider": Object {
                "associations": Array [
                  Object {
                    "subnetIdSelector": Object {
                      "matchControllerRef": true,
                      "matchLabels": Object {
                        "access": "public",
                        "zone": "us-west-2a",
                      },
                    },
                  },
                  Object {
                    "subnetIdSelector": Object {
                      "matchControllerRef": true,
                      "matchLabels": Object {
                        "access": "public",
                        "zone": "us-west-2b",
                      },
                    },
                  },
                  Object {
                    "subnetIdSelector": Object {
                      "matchControllerRef": true,
                      "matchLabels": Object {
                        "access": "private",
                        "zone": "us-west-2a",
                      },
                    },
                  },
                  Object {
                    "subnetIdSelector": Object {
                      "matchControllerRef": true,
                      "matchLabels": Object {
                        "access": "private",
                        "zone": "us-west-2b",
                      },
                    },
                  },
                ],
                "region": "us-west-2",
                "routes": Array [
                  Object {
                    "destinationCidrBlock": "0.0.0.0/0",
                    "gatewayIdSelector": Object {
                      "matchControllerRef": true,
                    },
                  },
                ],
                "vpcIdSelector": Object {
                  "matchControllerRef": true,
                },
              },
            },
          },
          "patches": Array [
            Object {
              "fromFieldPath": "spec.id",
              "toFieldPath": "metadata.labels[networks.aws.platformref.crossplane.io/network-id]",
            },
          ],
        },
        Object {
          "base": Object {
            "apiVersion": "ec2.aws.crossplane.io/v1beta1",
            "kind": "SecurityGroup",
            "spec": Object {
              "forProvider": Object {
                "description": "Allow access to PostgreSQL",
                "groupName": "platform-ref-aws-cluster",
                "ingress": Array [
                  Object {
                    "fromPort": 5432,
                    "ipProtocol": "tcp",
                    "ipRanges": Array [
                      Object {
                        "cidrIp": "0.0.0.0/0",
                        "description": "Everywhere",
                      },
                    ],
                    "toPort": 5432,
                  },
                ],
                "region": "us-west-2",
                "vpcIdSelector": Object {
                  "matchControllerRef": true,
                },
              },
            },
          },
          "patches": Array [
            Object {
              "fromFieldPath": "spec.id",
              "toFieldPath": "metadata.labels[networks.aws.platformref.crossplane.io/network-id]",
            },
          ],
        },
      ],
      "writeConnectionSecretsToNamespace": "crossplane-system",
    },
  },
]
`;

exports[`platform-ref-aws 4`] = `
Array [
  Object {
    "apiVersion": "apiextensions.crossplane.io/v1beta1",
    "kind": "CompositeResourceDefinition",
    "metadata": Object {
      "annotations": Object {
        "upbound.io/ui-schema": "---
configSections:
- title: Cluster Info
  description: Information about this cluster
  items:
  - name: id
    controlType: singleInput
    type: string
    path: \\".spec.id\\"
    title: Cluster ID
    description: Cluster ID that other objects will use to refer to this cluster
    default: platform-ref-aws-cluster
    validation:
    - required: true
      customError: Cluster ID is required.
  - name: writeSecretRef
    controlType: singleInput
    type: string
    path: \\".spec.writeConnectionSecretToRef.name\\"
    title: Connection Secret Ref
    description: name of the secret to write to this namespace
    default: cluster-conn
    validation:
    - required: true
- title: Cluster Nodes
  description: Enter information to size your cluster
  items:
  - name: clusterNodeCount
    controlType: singleInput
    type: integer
    path: \\".spec.parameters.nodes.count\\"
    title: Node Count
    description: Number of nodes in the cluster
    default: 1
    validation:
    - minimum: 1
    - maximum: 100
    - required: true
      customError: Node count is required.
  - name: clusterNodeSize
    controlType: singleSelect
    path: \\".spec.parameters.nodes.size\\"
    title: Node Size
    description: Desired node count, from 1 to 100.
    default: small
    enum:
    - small
    - medium
    - large
    validation:
    - required: true
      customError: Node size is required.
- title: Cluster Networking
  description: Select a network fabric for your cluster
  items:
  - name: networkRef
    controlType: singleInput
    type: string
    path: \\".spec.parameters.networkRef.id\\"
    title: Network Ref
    description: Network fabric to connect the database to
    default: platform-ref-aws-network
    validation:
    - required: true
      customError: Network ref is required.
- title: Cluster Services
  description: Configure cluster services and operators
  items:
  - name: promVersion
    controlType: singleInput
    type: string
    path: \\".spec.parameters.services.operators.prometheus.version\\"
    title: Prometheus Chart Version
    description: The version of kube-prometheus-stack chart to install
    default: 10.1.0
    validation:
    - required: false",
      },
      "name": "compositeclusters.aws.platformref.crossplane.io",
    },
    "spec": Object {
      "claimNames": Object {
        "kind": "Cluster",
        "plural": "clusters",
      },
      "connectionSecretKeys": Array [
        "kubeconfig",
      ],
      "group": "aws.platformref.crossplane.io",
      "names": Object {
        "kind": "CompositeCluster",
        "plural": "compositeclusters",
      },
      "versions": Array [
        Object {
          "name": "v1alpha1",
          "referenceable": true,
          "schema": Object {
            "openAPIV3Schema": Object {
              "properties": Object {
                "spec": Object {
                  "properties": Object {
                    "id": Object {
                      "description": "ID of this Cluster that other objects will use to refer to it.",
                      "type": "string",
                    },
                    "parameters": Object {
                      "description": "Cluster configuration parameters.",
                      "properties": Object {
                        "networkRef": Object {
                          "description": "A reference to the Network object that this cluster should be connected to.",
                          "properties": Object {
                            "id": Object {
                              "description": "ID of the Network object this ref points to.",
                              "type": "string",
                            },
                          },
                          "required": Array [
                            "id",
                          ],
                          "type": "object",
                        },
                        "nodes": Object {
                          "description": "Cluster node configuration parameters.",
                          "properties": Object {
                            "count": Object {
                              "description": "Desired node count, from 1 to 100.",
                              "type": "integer",
                            },
                            "size": Object {
                              "description": "Size of node.",
                              "enum": Array [
                                "small",
                                "medium",
                                "large",
                              ],
                              "type": "string",
                            },
                          },
                          "required": Array [
                            "count",
                            "size",
                          ],
                          "type": "object",
                        },
                        "services": Object {
                          "description": "Services configuration parameters.",
                          "properties": Object {
                            "operators": Object {
                              "description": "Configuration for operators.",
                              "properties": Object {
                                "prometheus": Object {
                                  "description": "Configuration for the Prometheus operator.",
                                  "properties": Object {
                                    "version": Object {
                                      "description": "Prometheus operator version to run.",
                                      "type": "string",
                                    },
                                  },
                                  "type": "object",
                                },
                              },
                              "type": "object",
                            },
                          },
                          "type": "object",
                        },
                      },
                      "required": Array [
                        "nodes",
                        "networkRef",
                      ],
                      "type": "object",
                    },
                  },
                  "required": Array [
                    "id",
                    "parameters",
                  ],
                  "type": "object",
                },
              },
              "type": "object",
            },
          },
          "served": true,
        },
      ],
    },
  },
  Object {
    "apiVersion": "apiextensions.crossplane.io/v1beta1",
    "kind": "Composition",
    "metadata": Object {
      "name": "compositeclusters.aws.platformref.crossplane.io",
    },
    "spec": Object {
      "compositeTypeRef": Object {
        "apiVersion": "aws.platformref.crossplane.io/v1alpha1",
        "kind": "CompositeCluster",
      },
      "resources": Array [
        Object {
          "base": Object {
            "apiVersion": "aws.platformref.crossplane.io/v1alpha1",
            "kind": "EKS",
          },
          "connectionDetails": Array [
            Object {
              "fromConnectionSecretKey": "kubeconfig",
            },
          ],
          "patches": Array [
            Object {
              "fromFieldPath": "spec.id",
              "toFieldPath": "spec.id",
            },
            Object {
              "fromFieldPath": "spec.id",
              "toFieldPath": "metadata.annotations[crossplane.io/external-name]",
            },
            Object {
              "fromFieldPath": "metadata.uid",
              "toFieldPath": "spec.writeConnectionSecretToRef.name",
              "transforms": Array [
                Object {
                  "string": Object {
                    "fmt": "%s-eks",
                  },
                  "type": "string",
                },
              ],
            },
            Object {
              "fromFieldPath": "spec.writeConnectionSecretToRef.namespace",
              "toFieldPath": "spec.writeConnectionSecretToRef.namespace",
            },
            Object {
              "fromFieldPath": "spec.parameters.nodes.count",
              "toFieldPath": "spec.parameters.nodes.count",
            },
            Object {
              "fromFieldPath": "spec.parameters.nodes.size",
              "toFieldPath": "spec.parameters.nodes.size",
            },
            Object {
              "fromFieldPath": "spec.parameters.networkRef.id",
              "toFieldPath": "spec.parameters.networkRef.id",
            },
          ],
        },
        Object {
          "base": Object {
            "apiVersion": "aws.platformref.crossplane.io/v1alpha1",
            "kind": "Services",
          },
          "patches": Array [
            Object {
              "fromFieldPath": "spec.id",
              "toFieldPath": "spec.providerConfigRef.name",
            },
            Object {
              "fromFieldPath": "spec.parameters.services.operators.prometheus.version",
              "toFieldPath": "spec.operators.prometheus.version",
            },
          ],
        },
      ],
      "writeConnectionSecretsToNamespace": "crossplane-system",
    },
  },
  Object {
    "apiVersion": "apiextensions.crossplane.io/v1beta1",
    "kind": "CompositeResourceDefinition",
    "metadata": Object {
      "name": "eks.aws.platformref.crossplane.io",
    },
    "spec": Object {
      "connectionSecretKeys": Array [
        "kubeconfig",
      ],
      "group": "aws.platformref.crossplane.io",
      "names": Object {
        "kind": "EKS",
        "plural": "eks",
      },
      "versions": Array [
        Object {
          "name": "v1alpha1",
          "referenceable": true,
          "schema": Object {
            "openAPIV3Schema": Object {
              "properties": Object {
                "spec": Object {
                  "properties": Object {
                    "id": Object {
                      "description": "ID of this Cluster that other objects will use to refer to it.",
                      "type": "string",
                    },
                    "parameters": Object {
                      "description": "EKS configuration parameters.",
                      "properties": Object {
                        "networkRef": Object {
                          "description": "A reference to the Network object that this postgres should be connected to.",
                          "properties": Object {
                            "id": Object {
                              "description": "ID of the Network object this ref points to.",
                              "type": "string",
                            },
                          },
                          "required": Array [
                            "id",
                          ],
                          "type": "object",
                        },
                        "nodes": Object {
                          "description": "EKS node configuration parameters.",
                          "properties": Object {
                            "count": Object {
                              "description": "Desired node count, from 1 to 100.",
                              "type": "integer",
                            },
                            "size": Object {
                              "description": "Size of node.",
                              "enum": Array [
                                "small",
                                "medium",
                                "large",
                              ],
                              "type": "string",
                            },
                          },
                          "required": Array [
                            "count",
                            "size",
                          ],
                          "type": "object",
                        },
                      },
                      "required": Array [
                        "nodes",
                        "networkRef",
                      ],
                      "type": "object",
                    },
                  },
                  "required": Array [
                    "parameters",
                  ],
                  "type": "object",
                },
              },
              "type": "object",
            },
          },
          "served": true,
        },
      ],
    },
  },
  Object {
    "apiVersion": "apiextensions.crossplane.io/v1beta1",
    "kind": "Composition",
    "metadata": Object {
      "labels": Object {
        "provider": "aws",
      },
      "name": "eks.aws.platformref.crossplane.io",
    },
    "spec": Object {
      "compositeTypeRef": Object {
        "apiVersion": "aws.platformref.crossplane.io/v1alpha1",
        "kind": "EKS",
      },
      "resources": Array [
        Object {
          "base": Object {
            "apiVersion": "identity.aws.crossplane.io/v1beta1",
            "kind": "IAMRole",
            "metadata": Object {
              "labels": Object {
                "role": "controlplane",
              },
            },
            "spec": Object {
              "forProvider": Object {
                "assumeRolePolicyDocument": "{
  \\"Version\\": \\"2012-10-17\\",
  \\"Statement\\": [
      {
          \\"Effect\\": \\"Allow\\",
          \\"Principal\\": {
              \\"Service\\": [
                  \\"eks.amazonaws.com\\"
              ]
          },
          \\"Action\\": [
              \\"sts:AssumeRole\\"
          ]
      }
  ]
}
",
              },
            },
          },
        },
        Object {
          "base": Object {
            "apiVersion": "identity.aws.crossplane.io/v1beta1",
            "kind": "IAMRolePolicyAttachment",
            "spec": Object {
              "forProvider": Object {
                "policyArn": "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy",
                "roleNameSelector": Object {
                  "matchControllerRef": true,
                  "matchLabels": Object {
                    "role": "controlplane",
                  },
                },
              },
            },
          },
        },
        Object {
          "base": Object {
            "apiVersion": "eks.aws.crossplane.io/v1beta1",
            "kind": "Cluster",
            "spec": Object {
              "forProvider": Object {
                "region": "us-west-2",
                "resourcesVpcConfig": Object {
                  "endpointPrivateAccess": true,
                  "endpointPublicAccess": true,
                },
                "roleArnSelector": Object {
                  "matchControllerRef": true,
                  "matchLabels": Object {
                    "role": "controlplane",
                  },
                },
                "version": "1.16",
              },
            },
          },
          "connectionDetails": Array [
            Object {
              "fromConnectionSecretKey": "kubeconfig",
            },
          ],
          "patches": Array [
            Object {
              "fromFieldPath": "metadata.annotations[crossplane.io/external-name]",
              "toFieldPath": "metadata.annotations[crossplane.io/external-name]",
            },
            Object {
              "fromFieldPath": "metadata.uid",
              "toFieldPath": "spec.writeConnectionSecretToRef.name",
              "transforms": Array [
                Object {
                  "string": Object {
                    "fmt": "%s-ekscluster",
                  },
                  "type": "string",
                },
              ],
            },
            Object {
              "fromFieldPath": "spec.writeConnectionSecretToRef.namespace",
              "toFieldPath": "spec.writeConnectionSecretToRef.namespace",
            },
            Object {
              "fromFieldPath": "spec.parameters.networkRef.id",
              "toFieldPath": "spec.forProvider.resourcesVpcConfig.securityGroupIdSelector.matchLabels[networks.aws.platformref.crossplane.io/network-id]",
            },
            Object {
              "fromFieldPath": "spec.parameters.networkRef.id",
              "toFieldPath": "spec.forProvider.resourcesVpcConfig.subnetIdSelector.matchLabels[networks.aws.platformref.crossplane.io/network-id]",
            },
          ],
        },
        Object {
          "base": Object {
            "apiVersion": "identity.aws.crossplane.io/v1beta1",
            "kind": "IAMRole",
            "metadata": Object {
              "labels": Object {
                "role": "nodegroup",
              },
            },
            "spec": Object {
              "forProvider": Object {
                "assumeRolePolicyDocument": "{
  \\"Version\\": \\"2012-10-17\\",
  \\"Statement\\": [
      {
          \\"Effect\\": \\"Allow\\",
          \\"Principal\\": {
              \\"Service\\": [
                  \\"ec2.amazonaws.com\\"
              ]
          },
          \\"Action\\": [
              \\"sts:AssumeRole\\"
          ]
      }
  ]
}
",
              },
            },
          },
        },
        Object {
          "base": Object {
            "apiVersion": "identity.aws.crossplane.io/v1beta1",
            "kind": "IAMRolePolicyAttachment",
            "spec": Object {
              "forProvider": Object {
                "policyArn": "arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy",
                "roleNameSelector": Object {
                  "matchControllerRef": true,
                  "matchLabels": Object {
                    "role": "nodegroup",
                  },
                },
              },
            },
          },
        },
        Object {
          "base": Object {
            "apiVersion": "identity.aws.crossplane.io/v1beta1",
            "kind": "IAMRolePolicyAttachment",
            "spec": Object {
              "forProvider": Object {
                "policyArn": "arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy",
                "roleNameSelector": Object {
                  "matchControllerRef": true,
                  "matchLabels": Object {
                    "role": "nodegroup",
                  },
                },
              },
            },
          },
        },
        Object {
          "base": Object {
            "apiVersion": "identity.aws.crossplane.io/v1beta1",
            "kind": "IAMRolePolicyAttachment",
            "spec": Object {
              "forProvider": Object {
                "policyArn": "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly",
                "roleNameSelector": Object {
                  "matchControllerRef": true,
                  "matchLabels": Object {
                    "role": "nodegroup",
                  },
                },
              },
            },
          },
        },
        Object {
          "base": Object {
            "apiVersion": "eks.aws.crossplane.io/v1alpha1",
            "kind": "NodeGroup",
            "spec": Object {
              "forProvider": Object {
                "clusterNameSelector": Object {
                  "matchControllerRef": true,
                },
                "instanceTypes": Array [
                  "t3.medium",
                ],
                "nodeRoleSelector": Object {
                  "matchControllerRef": true,
                  "matchLabels": Object {
                    "role": "nodegroup",
                  },
                },
                "region": "us-west-2",
                "scalingConfig": Object {
                  "desiredSize": 1,
                  "maxSize": 100,
                  "minSize": 1,
                },
                "subnetSelector": Object {
                  "matchLabels": Object {
                    "access": "public",
                  },
                },
              },
            },
          },
          "patches": Array [
            Object {
              "fromFieldPath": "metadata.annotations[crossplane.io/external-name]",
              "toFieldPath": "metadata.annotations[crossplane.io/external-name]",
            },
            Object {
              "fromFieldPath": "spec.parameters.nodes.count",
              "toFieldPath": "spec.forProvider.scalingConfig.desiredSize",
            },
            Object {
              "fromFieldPath": "spec.parameters.nodes.size",
              "toFieldPath": "spec.forProvider.instanceTypes[0]",
              "transforms": Array [
                Object {
                  "map": Object {
                    "large": "t3.large",
                    "medium": "t3.medium",
                    "small": "t3.small",
                  },
                  "type": "map",
                },
              ],
            },
            Object {
              "fromFieldPath": "spec.parameters.networkRef.id",
              "toFieldPath": "spec.forProvider.subnetSelector.matchLabels[networks.aws.platformref.crossplane.io/network-id]",
            },
          ],
        },
        Object {
          "base": Object {
            "apiVersion": "helm.crossplane.io/v1alpha1",
            "kind": "ProviderConfig",
            "spec": Object {
              "credentials": Object {
                "secretRef": Object {
                  "key": "kubeconfig",
                  "namespace": "crossplane-system",
                },
                "source": "Secret",
              },
            },
          },
          "patches": Array [
            Object {
              "fromFieldPath": "spec.id",
              "toFieldPath": "metadata.name",
            },
            Object {
              "fromFieldPath": "metadata.uid",
              "toFieldPath": "spec.credentials.secretRef.name",
              "transforms": Array [
                Object {
                  "string": Object {
                    "fmt": "%s-ekscluster",
                  },
                  "type": "string",
                },
              ],
            },
          ],
          "readinessChecks": Array [
            Object {
              "type": "None",
            },
          ],
        },
      ],
      "writeConnectionSecretsToNamespace": "crossplane-system",
    },
  },
  Object {
    "apiVersion": "apiextensions.crossplane.io/v1beta1",
    "kind": "CompositeResourceDefinition",
    "metadata": Object {
      "name": "services.aws.platformref.crossplane.io",
    },
    "spec": Object {
      "group": "aws.platformref.crossplane.io",
      "names": Object {
        "kind": "Services",
        "plural": "services",
      },
      "versions": Array [
        Object {
          "name": "v1alpha1",
          "referenceable": true,
          "schema": Object {
            "openAPIV3Schema": Object {
              "properties": Object {
                "spec": Object {
                  "properties": Object {
                    "operators": Object {
                      "description": "Configuration for operators.",
                      "properties": Object {
                        "prometheus": Object {
                          "description": "Configuration for the Prometheus operator.",
                          "properties": Object {
                            "version": Object {
                              "description": "Prometheus operator version to run.",
                              "type": "string",
                            },
                          },
                          "type": "object",
                        },
                      },
                      "type": "object",
                    },
                    "providerConfigRef": Object {
                      "description": "A reference to the ProviderConfig of the cluster that services should be deployed to.",
                      "properties": Object {
                        "name": Object {
                          "description": "Name of the Kubernetes provider configuration. This will typically be the name of the cluster with a five character suffix appended.",
                          "type": "string",
                        },
                      },
                      "required": Array [
                        "name",
                      ],
                      "type": "object",
                    },
                  },
                  "required": Array [
                    "providerConfigRef",
                  ],
                  "type": "object",
                },
              },
              "type": "object",
            },
          },
          "served": true,
        },
      ],
    },
  },
  Object {
    "apiVersion": "apiextensions.crossplane.io/v1beta1",
    "kind": "Composition",
    "metadata": Object {
      "labels": Object {
        "plan": "full",
        "provider": "helm",
      },
      "name": "services.aws.platformref.crossplane.io",
    },
    "spec": Object {
      "compositeTypeRef": Object {
        "apiVersion": "aws.platformref.crossplane.io/v1alpha1",
        "kind": "Services",
      },
      "resources": Array [
        Object {
          "base": Object {
            "apiVersion": "helm.crossplane.io/v1alpha1",
            "kind": "Release",
            "spec": Object {
              "forProvider": Object {
                "chart": Object {
                  "name": "kube-prometheus-stack",
                  "repository": "https://prometheus-community.github.io/helm-charts",
                  "version": "10.1.0",
                },
                "namespace": "operators",
                "values": Object {},
              },
              "rollbackLimit": 3,
            },
          },
          "patches": Array [
            Object {
              "fromFieldPath": "metadata.labels",
              "toFieldPath": "metadata.labels",
            },
            Object {
              "fromFieldPath": "metadata.annotations",
              "toFieldPath": "metadata.annotations",
            },
            Object {
              "fromFieldPath": "spec.providerConfigRef.name",
              "toFieldPath": "spec.providerConfigRef.name",
            },
            Object {
              "fromFieldPath": "spec.operators.prometheus.version",
              "toFieldPath": "spec.forProvider.chart.version",
            },
          ],
        },
      ],
      "writeConnectionSecretsToNamespace": "crossplane-system",
    },
  },
]
`;
